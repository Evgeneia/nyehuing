<!DOCTYPE HTML>

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>랜덤 녜힁 제조기 2.0</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href=".\nyehuing.css" type="text/css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>
</head>

<body class="d-flex flex-column h-100">
	<header>
		<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
			<a class="navbar-brand" href="#">랜덤 녜힁 제조기 2.0</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
				aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarCollapse">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="nav-link" href=".\index.html">메이플스토리</a>
					</li>
					<li class="nav-item active">
						<a class="nav-link" href=".\lostark.html">로스트아크<span class="sr-only">(current)</span></a>
					</li>
				</ul>
			</div>
		</nav>
	</header>
	<main role="main" class="flex-shrink-0">
		<div class="container">
			<div>
				<button id="option" type="button" class="btn btn-secondary" data-toggle="collapse"
					data-target="#options" aria-expanded="false" aria-controls="options">설정</button>
				<button id="generate" type="button" class="btn btn-primary" onclick="generateName()">생성</button>
			</div>
			<div class="collapse card" id="options">
				<div>
					<h5>이름 길이:</h5>
					<input type="number" id="length" class="form-control" step="1" min="2" max="12" value="2" />
				</div>
				<div class="row">
					<div class="col-6">
						<h5>접두어:</h5>
						<input type="text" id="prefix" class="form-control" />
					</div>
					<div class="col-6">
						<h5>접미어:</h5>
						<input type="text" id="postfix" class="form-control" />
					</div>
				</div>
				<div>
					<h5>사용하지 않을 초성 <button type="button" class="btn btn-secondary btn-sm"
							onclick="clearChoseong()">초기화</button></h5>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="0" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㄱ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="1" name="choseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄲ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="2" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㄴ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="3" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㄷ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="4" name="choseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄸ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="5" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㄹ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="6" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅁ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="7" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅂ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="8" name="choseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅃ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="9" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅅ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="10" name="choseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅆ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="11" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅇ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="12" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅈ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="13" name="choseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅉ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="14" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅊ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="15" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅋ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="16" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅌ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="17" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅍ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="18" name="choseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅎ
						</label>
					</div>
				</div>
				<div>
					<h5>사용하지 않을 중성 <button type="button" class="btn btn-secondary btn-sm"
							onclick="clearJoongseong()">초기화</button></h5>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="0" name="joongseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅏ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="1" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅐ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="2" name="joongseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅑ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="3" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅒ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="4" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅓ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="5" name="joongseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅔ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="6" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅕ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="7" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅖ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="8" name="joongseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅗ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="9" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅘ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="10" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅙ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="11" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅚ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="12" name="joongseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅛ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="13" name="joongseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅜ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="14" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅝ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="15" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅞ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="16" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅟ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="17" name="joongseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅠ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="18" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅡ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="19" name="joongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅢ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="20" name="joongseong">
						<label class="form-check-label" for="flexCheckChecked">
							ㅣ
						</label>
					</div>
				</div>
				<div>
					<h5>사용하지 않을 종성 <button type="button" class="btn btn-secondary btn-sm"
							onclick="clearJongseong()">초기화</button></h5>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="1" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄱ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="2" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄲ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="3" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄳ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="4" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄴ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="5" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄵ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="6" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄶ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="7" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄷ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="8" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄹ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="9" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄺ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="10" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄻ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="11" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄼ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="12" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄽ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="13" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄾ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="14" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㄿ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="15" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅀ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="16" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅁ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="17" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅂ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="18" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅄ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="19" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅅ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="20" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅆ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="21" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅇ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="22" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅈ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="23" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅊ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="24" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅋ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="25" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅌ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="26" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅍ
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="27" name="jongseong" checked>
						<label class="form-check-label" for="flexCheckChecked">
							ㅎ
						</label>
					</div>
				</div>
			</div>
		</div>
		<div class="container" style="margin-top: 1rem;">
			<div class="row">
				<div class="col-sm-12 col-md-3">
					<h1 id="name1"> </h1>
					<iframe sandbox id="iframe1" src="" scrolling="no"></iframe>
				</div>
				<div class="col-sm-12 col-md-3">
					<h1 id="name2"> </h1>
					<iframe sandbox id="iframe2" src="" scrolling="no"></iframe>
				</div>
				<div class="col-sm-12 col-md-3">
					<h1 id="name3"> </h1>
					<iframe sandbox id="iframe3" src="" scrolling="no"></iframe>
				</div>
				<div class="col-sm-12 col-md-3">
					<h1 id="name4"> </h1>
					<iframe sandbox id="iframe4" src="" scrolling="no"></iframe>
				</div>
			</div>
		</div>
		<div class="container">
			<p>사용 가능한 이름은 이름 아래에 검색 결과가 나타나지 않습니다.</p>
		</div>
	</main>

	<script type="text/javascript">
		var NAME_LENGTH = 2;
		var HATE_CHOSEONG = [1, 4, 8, 10, 13];
		var HATE_JOONGSEONG = [3, 7, 10, 11, 15, 16, 19];
		var HATE_JONGSEONG = [];
		var _prefix = "";
		var _postfix = "";

		function clearChoseong() {
			var _choseong = $("[name=choseong]");
			for (var i = 0; i < _choseong.length; ++i) {
				_choseong[i].checked = false;
			}
		}

		function clearJoongseong() {
			var _joongseong = $("[name=joongseong]");
			for (var i = 0; i < _joongseong.length; ++i) {
				_joongseong[i].checked = false;
			}
		}

		function clearJongseong() {
			var _jongseong = $("[name=jongseong]");
			for (var i = 0; i < _jongseong.length; ++i) {
				_jongseong[i].checked = false;
			}
		}

		function createName() {
			var _name = ""
			while (_name.length < NAME_LENGTH) {
				var _c = Math.floor(Math.random() * 11172)
				if (((_c % 28 == 0 && HATE_JONGSEONG.length == 27) || !HATE_JONGSEONG.includes(_c % 28))
					&& !HATE_CHOSEONG.includes(Math.floor(Math.floor(_c / 28) / 21))
					&& !HATE_JOONGSEONG.includes(Math.floor(Math.floor(_c / 28) % 21))) {
					_name += String.fromCharCode(44032 + _c)
					if (_prefix.length + _name.length + _postfix.length == NAME_LENGTH) {
						_name = _prefix + _name + _postfix;
						break;
					}
				}
			}
			return _name;
		}

		function generateName() {
			if (!validateOption()) {
				return false;
			}

			$("#options").collapse("hide");

			var _name1 = createName();
			var _name2 = createName();
			var _name3 = createName();
			var _name4 = createName();
			$("#name1").text(_name1);
			$("#iframe1").attr("src", "https://m-lostark.game.onstove.com/Profile/Character/" + encodeURI(_name1));
			$("#name2").text(_name2);
			$("#iframe2").attr("src", "https://m-lostark.game.onstove.com/Profile/Character/" + encodeURI(_name2));
			$("#name3").text(_name3);
			$("#iframe3").attr("src", "https://m-lostark.game.onstove.com/Profile/Character/" + encodeURI(_name3));
			$("#name4").text(_name4);
			$("#iframe4").attr("src", "https://m-lostark.game.onstove.com/Profile/Character/" + encodeURI(_name4));
		}

		function validateOption() {
			NAME_LENGTH = parseInt($("#length").val()) || 0;
			if (NAME_LENGTH < 2 || NAME_LENGTH > 12) {
				alert("이름 길이는 2자에서 12자까지 가능합니다");
				NAME_LENGTH = 2;
				$("#length").val(2)
				return false;
			}

			_prefix = $("#prefix").val();
			_postfix = $("#postfix").val();
			if (_prefix.length + _postfix.length >= NAME_LENGTH) {
				alert("접두어와 접미어의 길이가 전체 이름의 길이보다 짧아야 합니다");
				return false;
			}

			HATE_CHOSEONG = [];
			var _choseong = $("[name=choseong]");
			for (var i = 0; i < _choseong.length; ++i) {
				if (_choseong[i].checked) {
					HATE_CHOSEONG.push(parseInt(_choseong[i].value));
				}
			}
			if (_choseong.length == HATE_CHOSEONG.length) {
				alert("적어도 1개의 초성을 사용해야 합니다");
				HATE_CHOSEONG = [];
				return false;
			}

			HATE_JOONGSEONG = [];
			var _joongseong = $("[name=joongseong]");
			for (var i = 0; i < _joongseong.length; ++i) {
				if (_joongseong[i].checked) {
					HATE_JOONGSEONG.push(parseInt(_joongseong[i].value));
				}
			}
			if (_joongseong.length == HATE_JOONGSEONG.length) {
				alert("적어도 1개의 중성을 사용해야 합니다");
				HATE_JOONGSEONG = [];
				return false;
			}

			HATE_JONGSEONG = [];
			var _jongseong = $("[name=jongseong]");
			for (var i = 0; i < _jongseong.length; ++i) {
				if (_jongseong[i].checked) {
					HATE_JONGSEONG.push(parseInt(_jongseong[i].value));
				}
			}
			return true;
		}
	</script>
</body>